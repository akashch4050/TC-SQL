tcDB.jdbc.BOM_PART_SQL=SELECT distinct T_PSOCC.puid as OBID,  T_PRT_ITEM.pitem_id as PARENTPART ,  child.pitem_id as CHILDPART  ,  T_PSOCC.pseq_no FINDNUMBER  ,  CASE WHEN T_PSOCC.pqty_value='-1' THEN 1 ELSE T_PSOCC.pqty_value END QUANTITY ,  uom.psymbol as UNITOFMEASURE,  T_BVR.pstruct_last_mod_date as LASTUPDATE, notetext.pval_0 as P4BOMUSAGE  FROM PITEM T_PRT_ITEM  join  PITEMREVISION T_PRT_REV on T_PRT_REV.ritems_tagu =T_PRT_ITEM.puid  left Join PUNITOFMEASURE uom ON T_PRT_ITEM.ruom_tagu=uom.puid  join PWORKSPACEOBJECT T_PRT_WKS on T_PRT_WKS.puid =T_PRT_REV.puid  join PSTRUCTURE_REVISIONS T_STR_REV on T_STR_REV.puid =T_PRT_REV.puid   join PPSBOMVIEWREVISION T_BVR on T_BVR.puid =T_STR_REV.pvalu_0  join PPSOCCURRENCE T_PSOCC on T_PSOCC.rparent_bvru =T_BVR.puid   LEFT join PNOTE_TEXTS notetext ON  T_PSOCC.rnotes_refu =notetext.puid  LEFT join PNOTE_TYPES pnotetype ON  notetext.puid=pnotetype.puid  LEFT join PNOTETYPE tntype ON  tntype.puid=pnotetype.pvalu_0  LEFT join PITEM child ON T_PSOCC.rchild_itemu=child.puid  where  T_PRT_ITEM.pitem_id =? AND T_PRT_REV.pitem_revision_id =? and ( notetext.pval_0 in ('OPT','ALT','PRIMARY','REF') or  notetext.pval_0 is null)

  
tcDB.jdbc.ITEM_SQL= With EADProp (EDARevId,replaced_by,replaces,makeby,restricted_use_level,change_number,netweight) as (  select Distinct itmrev.puid as EDARevId,edacc.pbwr3_replaced_by as replaced_by,edacc.pbwr3_replaces as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDACCABASEREVISION edacc ON itmrev.puid=edacc.puid where itm.pitem_id IN( ? ) Union   select Distinct itmrev.puid as EDARevId,edacc.pbwr3_replaced_by as replaced_by,edacc.pbwr3_replaces as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDACOMP_0_REVISION_ALT edacc ON itmrev.puid=edacc.puid where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PBWR3_BWMATERIALREVISION edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pDT_Change_Number as change_number,edacc.pDT_Weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_ITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,NULL as makeby  , NULL as restricted_use_level,edacc.pbwr3_change_number as change_number,NULL as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PBWR3_BWSOFTWAREREVISION edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN(?)  Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pDT_Change_Number as change_number,edacc.pDT_Weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_ITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,NULL as makeby  , NULL as restricted_use_level,edacc.pbwr3_change_number as change_number,NULL as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDASCHEM_0_REVISION_ALT edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN(?) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_REFITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN(?)  )  select item.pitem_id as PARTNUMBER,  itemRev.pitem_revision_id as REVISION,  releaseStatus.pname as LIFECYCLESTATE ,  wksObject.pobject_name as NOMENCLATURE ,  wksObject.pobject_type as DISPLAYEDTYPE ,  wksObject.pobject_type as CLASS,  edaprp.makeby as MAKEBUYINDICATOR,  edaprp.replaces as P4REPLACES,  edaprp.change_number as P4CANUMBER,  edaprp.restricted_use_level as P4RESTRICTIONS,  edaprp.netweight as B3NETWEIGHT  from PITEM item JOIN  ( SELECT puid,  A.pitem_revision_id,  A.ritems_tagu,  A.psequence_id  FROM PITEMREVISION A JOIN ( SELECT pitem_revision_id,  ritems_tagu, MAX(psequence_id) rseq  FROM PITEMREVISION GROUP BY pitem_revision_id, ritems_tagu ) B  ON A.pitem_revision_id=B.pitem_revision_id  AND A.ritems_tagu=B.ritems_tagu AND psequence_id=rseq ) itemRev ON  item.puid = itemRev.ritems_tagu  JOIN PWORKSPACEOBJECT wksObject ON itemRev.puid = wksObject.puid  JOIN PPOM_APPLICATION_OBJECT pomAPPObject ON  wksObject.puid = pomAPPObject.puid  JOIN PPOM_USER ownUser ON pomAPPObject.rowning_useru = ownUser.puid  JOIN PPOM_USER lastModUser ON pomAPPObject.rlast_mod_useru= lastModUser.puid  Left join PRELEASE_STATUS_LIST  releaseStatusList on releaseStatusList.puid = itemRev.puid  Left join PRELEASESTATUS releaseStatus on  releaseStatus.puid = releaseStatusList.pvalu_0  Join  (  select  MAX( d.pcreation_date ) as CreationDate  from PITEM a  JOIN PITEMREVISION b ON a.puid=b.ritems_tagu  JOIN PWORKSPACEOBJECT c ON b.puid = c.puid  JOIN PPOM_APPLICATION_OBJECT d ON c.puid = d.puid where a.pitem_id IN( ? )  group by a.pitem_id  ) Emax ON Emax.CreationDate = pomAPPObject.pcreation_date  JOIN EADProp edaprp ON edaprp.EDARevId=itemRev.puid  where item.pitem_id IN ( ? )
tcDB.jdbc.DOCUMENT_SQL=With EADProp (EDARevId,replaced_by,replaces,makeby,restricted_use_level,change_number,netweight) as (  select Distinct itmrev.puid as EDARevId,edacc.pbwr3_replaced_by as replaced_by,edacc.pbwr3_replaces as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDACCABASEREVISION edacc ON itmrev.puid=edacc.puid where itm.pitem_id IN( ? ) Union   select Distinct itmrev.puid as EDARevId,edacc.pbwr3_replaced_by as replaced_by,edacc.pbwr3_replaces as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDACOMP_0_REVISION_ALT edacc ON itmrev.puid=edacc.puid where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PBWR3_BWMATERIALREVISION edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pDT_Change_Number as change_number,edacc.pDT_Weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_ITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,NULL as makeby  , NULL as restricted_use_level,edacc.pbwr3_change_number as change_number,NULL as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PBWR3_BWSOFTWAREREVISION edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN(?)  Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pDT_Change_Number as change_number,edacc.pDT_Weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_ITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN( ? ) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,NULL as makeby  , NULL as restricted_use_level,edacc.pbwr3_change_number as change_number,NULL as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PEDASCHEM_0_REVISION_ALT edacc ON itmrev.puid=edacc.puid  where itm.pitem_id IN(?) Union  select Distinct itmrev.puid as EDARevId, NULL as replaced_by, NULL as replaces,edacc.pbwr3_make_buy as makeby  , edacc.pbwr3_restricted_use_level as restricted_use_level,edacc.pbwr3_change_number as change_number,edacc.pbwr3_weight as netweight  from PITEM itm Join PITEMREVISION itmrev ON itm.puid=itmrev.ritems_tagu  JOIN PIMANRELATION iman ON itmrev.puid = iman.rprimary_objectu  JOIN PFORM pf ON iman.rsecondary_objectu = pf.puid  JOIN PDT_REFITEM_MASTER_REV_FORM edacc ON pf.rdata_fileu = edacc.puid  where itm.pitem_id IN(?)  )  select item.pitem_id as PARTNUMBER,  itemRev.pitem_revision_id as REVISION,  releaseStatus.pname as LIFECYCLESTATE ,  wksObject.pobject_name as NOMENCLATURE ,  wksObject.pobject_type as DISPLAYEDTYPE ,  wksObject.pobject_type as CLASS,  edaprp.makeby as MAKEBUYINDICATOR,  edaprp.replaces as P4REPLACES,  edaprp.change_number as P4CANUMBER,  edaprp.restricted_use_level as P4RESTRICTIONS,  edaprp.netweight as B3NETWEIGHT  from PITEM item JOIN  ( SELECT puid,  A.pitem_revision_id,  A.ritems_tagu,  A.psequence_id  FROM PITEMREVISION A JOIN  ( SELECT pitem_revision_id,  ritems_tagu, MAX(psequence_id) rseq  FROM PITEMREVISION GROUP BY pitem_revision_id, ritems_tagu ) B  ON A.pitem_revision_id=B.pitem_revision_id  AND A.ritems_tagu=B.ritems_tagu AND psequence_id=rseq ) itemRev ON  item.puid = itemRev.ritems_tagu  JOIN PWORKSPACEOBJECT wksObject ON itemRev.puid = wksObject.puid  JOIN PPOM_APPLICATION_OBJECT pomAPPObject ON  wksObject.puid = pomAPPObject.puid  JOIN PPOM_USER ownUser ON pomAPPObject.rowning_useru = ownUser.puid  JOIN PPOM_USER lastModUser ON pomAPPObject.rlast_mod_useru= lastModUser.puid  Left join PRELEASE_STATUS_LIST  releaseStatusList on releaseStatusList.puid = itemRev.puid  Left join PRELEASESTATUS releaseStatus on  releaseStatus.puid = releaseStatusList.pvalu_0  Join  (  select  MAX( d.pcreation_date ) as CreationDate  from PITEM a  JOIN PITEMREVISION b ON a.puid=b.ritems_tagu  JOIN PWORKSPACEOBJECT c ON b.puid = c.puid  JOIN PPOM_APPLICATION_OBJECT d ON c.puid = d.puid where a.pitem_id IN( ? )  group by a.pitem_id  ) Emax ON Emax.CreationDate = pomAPPObject.pcreation_date  JOIN EADProp edaprp ON edaprp.EDARevId=itemRev.puid  where item.pitem_id IN ( ? )


  
tcDB.jdbc.BOM_PART_DOCUMENT_SQL=select Distinct  itemPrmy.pitem_id as PARTNUMBER, itemSec.pitem_id as DOCUMENTNAME, wks.pobject_type as PARTCLASS, wksSec.pobject_type as DOCUMENTCLASS,wksSec.pobject_type as CLASS from PITEM itemPrmy JOIN PITEMREVISION itemRevPrmy ON itemPrmy.puid = itemRevPrmy.ritems_tagu  JOIN PWORKSPACEOBJECT wks ON  itemRevPrmy.puid = wks.puid JOIN PIMANRELATION imanRelation ON itemRevPrmy.puid = imanRelation.rprimary_objectu JOIN PIMANTYPE relationType ON  imanRelation.rrelation_typeu= relationType.puid JOIN PITEM itemSec ON itemSec.puid= imanRelation.rsecondary_objectu JOIN PITEMREVISION itemRevSec ON itemSec.puid = itemRevSec.ritems_tagu  JOIN PWORKSPACEOBJECT wksSec ON  itemRevSec.puid = wksSec.puid WHERE itemPrmy.pitem_id = ? AND itemRevPrmy.pitem_revision_id = ? ORDER BY itemSec.pitem_id

tcDB.jdbc.BOM_PART_REF_SQL=SELECT distinct T_PSOCC.puid as OBID, notetext.pval_0 as P4BOMUSAGE,  T_PRT_ITEM.pitem_id as PARENTPART ,  child.pitem_id as CHILDPART  ,  T_PSOCC.pseq_no FINDNUMBER  ,  CASE WHEN T_PSOCC.pqty_value='-1' THEN 1 ELSE T_PSOCC.pqty_value END QUANTITY ,  uom.psymbol as UNITOFMEASURE,  T_BVR.pstruct_last_mod_date as LASTUPDATE,  T_PSOCC.pbwr3_ecad_ref_designator as REFERENCEDESIGNATOR  FROM PITEM T_PRT_ITEM  join   PITEMREVISION T_PRT_REV on T_PRT_REV.ritems_tagu =T_PRT_ITEM.puid  left Join PUNITOFMEASURE uom ON T_PRT_ITEM.ruom_tagu=uom.puid  join PWORKSPACEOBJECT T_PRT_WKS on T_PRT_WKS.puid =T_PRT_REV.puid  join PSTRUCTURE_REVISIONS T_STR_REV on T_STR_REV.puid =T_PRT_REV.puid   join PPSBOMVIEWREVISION T_BVR on T_BVR.puid =T_STR_REV.pvalu_0  join PPSOCCURRENCE T_PSOCC on T_PSOCC.rparent_bvru =T_BVR.puid   LEFT join PNOTE_TEXTS notetext ON  T_PSOCC.rnotes_refu =notetext.puid  LEFT join PNOTE_TYPES pnotetype ON  notetext.puid=pnotetype.puid  LEFT join PNOTETYPE tntype ON  tntype.puid=pnotetype.pvalu_0  LEFT join PITEM child ON T_PSOCC.rchild_itemu=child.puid   where  T_PRT_ITEM.pitem_id = ? AND T_PRT_REV.pitem_revision_id = ? and ( notetext.pval_0 in ('OPT','ALT','PRIMARY','REF') or  notetext.pval_0 is null)
tcDB.jdbc.BOM_PART_REV_SQL=SELECT distinct T_PSOCC.puid as OBID,  T_PRT_ITEM.pitem_id as PARENTPART ,  child.pitem_id as CHILDPART  ,  T_PSOCC.pseq_no FINDNUMBER  ,  CASE WHEN T_PSOCC.pqty_value='-1' THEN 1 ELSE T_PSOCC.pqty_value END QUANTITY ,  uom.psymbol as UNITOFMEASURE,  T_BVR.pstruct_last_mod_date as LASTUPDATE,  notetext.pval_0 as P4BOMUSAGE  FROM PITEM T_PRT_ITEM  join  PITEMREVISION T_PRT_REV on T_PRT_REV.ritems_tagu =T_PRT_ITEM.puid  left Join PUNITOFMEASURE uom ON T_PRT_ITEM.ruom_tagu=uom.puid  join PWORKSPACEOBJECT T_PRT_WKS on T_PRT_WKS.puid =T_PRT_REV.puid  join PSTRUCTURE_REVISIONS T_STR_REV on T_STR_REV.puid =T_PRT_REV.puid   join PPSBOMVIEWREVISION T_BVR on T_BVR.puid =T_STR_REV.pvalu_0  join PPSOCCURRENCE T_PSOCC on T_PSOCC.rparent_bvru =T_BVR.puid   LEFT join PNOTE_TEXTS notetext ON  T_PSOCC.rnotes_refu =notetext.puid  LEFT join PNOTE_TYPES pnotetype ON  notetext.puid=pnotetype.puid  LEFT join PNOTETYPE tntype ON  tntype.puid=pnotetype.pvalu_0  LEFT join PITEM child ON T_PSOCC.rchild_itemu=child.puid  where  T_PRT_ITEM.pitem_id =? and ( notetext.pval_0 in ('OPT','ALT','PRIMARY','REF') or  notetext.pval_0 is null)
